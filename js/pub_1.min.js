!function(){for(var t=0,n=["ms","moz","webkit","o"],e=0;e<n.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[n[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[e]+"CancelAnimationFrame"]||window[n[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,e){var a=(new Date).getTime(),i=Math.max(0,16-(a-t)),o=window.setTimeout(function(){n(a+i)},i);return t=a+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d");ctx.lineCap="round";var t=1,left_path=[];left_path.push({x:canvas.width/2,y:0}),left_path.push({x:canvas.width/2,y:70}),left_path.push({x:10,y:150}),left_path.push({x:10,y:200}),left_path.push({x:canvas.width/2,y:300}),left_path.push({x:canvas.width/2,y:400}),console.log("left path: "+left_path),ctx.lineWidth=4,ctx.strokeStyle="green";var left_points=calcWaypoints(left_path);function calcWaypoints(t){for(var n=[],e=1;e<t.length;e++)for(var a=t[e-1],i=t[e],o=i.x-a.x,c=i.y-a.y,r=0;r<100;r++){var l=a.x+o*r/100,m=a.y+c*r/100;n.push({x:l,y:m})}return n}function animate(){t<left_points.length-1&&requestAnimationFrame(animate),ctx.beginPath(),ctx.moveTo(left_points[t-1].x,left_points[t-1].y),ctx.lineTo(left_points[t].x,left_points[t].y),ctx.stroke(),t++}animate(),t=1;